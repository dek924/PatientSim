# PatientSim: A Persona-Driven Simulator for Realistic Doctor-Patient Interactions 

Files and Structure
We provide 170 patient profiles divided as follows:
- Persona Evaluation (108 profiles) – Located in the persona_test folder.
- Factual Accuracy & Clinical Plausibility Evaluation (52 profiles) – Located in the info_test folder.
- Sentence Classification Validation (10 profiles) – Located in the sentence_cls_valid folder.

We also include dialogue histories generated by PatientSim (our patient simulator), evaluated using eight different LLMs, alongside human evaluation logs.

For human label annotations, we provide:
1. The dialogue history between a human doctor and PatientSim, along with evaluation results regarding the simulator's quality. (`persona_test/expert_dialogue.jsonl`)
2. Plausibility scores for unsupported sentences in pre-generated dialogues, between doctor LLM (GPT-4o-mini) and PatientSim with LLaMA 3.3 (`info_test/expert_plausibility_label.jsonl`).

To help understanding our data, we provide jupyter file to analyze the results (`analysis.ipynb`).


Directory Structure:
```
PatientSim
├── patient_profile.json
├── persona_test/  
│   ├── expert_dialogue.jsonl
│   └── llm_simulation/
│       ├── deepseek-llama-70b/
|       ├── ...
│       └── qwen2.5-72b-instruct/
│           ├── llm_dialogue.json
│           ├── gemini-2.5-flash-preview-04-17_ddx.json
│           ├── gemini-2.5-flash-preview-04-17_profile_consistency.json
│           └── gemini-2.5-flash-preview-04-17_profile_consistency_LLMscore.json
├── info_test/
│   ├── dialogue.jsonl
│   ├── expert_plausibility_label.jsonl
│   ├── llm_plausibility_label.jsonl
│   ├── sentence_label.json
│   └── llm_simulation/
│       ├── deepseek-llama-70b/
|       ├── ...
│       └── qwen2.5-72b-instruct/
│           ├── llm_dialogue.json
│           ├── gemini-2.5-flash-preview-04-17_ddx.json
│           ├── gemini-2.5-flash-preview-04-17_profile_consistency_Patient.json
│           └── gemini-2.5-flash-preview-04-17_profile_consistency_LLMscore.json
│   
└── sentence_cls_valid/
    ├── dialogue.jsonl
    ├── sentence_label_gpt-4o.json
    ├── sentence_label_gemini-2.5-flash-preview-04-17.json.json
    └── sentence_label_manual.json
```

## Analysis Tools
To facilitate exploration and analysis of the dataset, we provide a Jupyter notebook.

## File Format and Contents:
### patient_profile 
This file contains a list of patient profiles, each represented as a dictionary. Here’s an explanation of the key fields:
The keys in each dictionary are as follows:
| Field                      | Description                                                           |
| -------------------------- | ----------------------------------------------------------------------|
| `hadm_id`                  | Unique hospital admission ID                                          |
| `age`                      | Patient's age                                                         |
| `gender`                   | Patient's gender (e.g., M/F)                                          |
| `race`                     | Reported race                                                         |
| `marital_status`           | Marital status                                                        |
| `insurance`                | Insurance provider or plan                                            |
| `occupation`               | Patient's current or former job                                       |
| `living_situation`         | Current living arrangement                                            |
| `children`                 | Number of children or status                                          |
| `exercise`                 | Description of physical activity                                      |
| `tobacco`                  | Smoking history                                                       |
| `alcohol`                  | Alcohol consumption habits                                            |
| `illicit_drug`             | Use of illegal substances                                             |
| `sexual_history`           | Basic info about sexual activity                                      |
| `allergies`                | Known allergies or adverse drug reactions                             |
| `family_medical_history`   | Notable family health conditions                                      |
| `medical_device`           | Any implanted or assistive medical devices                            |
| `medical_history`          | Past medical conditions and procedures                                |
| `chiefcomplaint`           | Main reason for seeking care                                          |
| `pain`                     | Reported pain level (e.g., 0–10)                                      |
| `medication`               | Current medication list                                               |
| `arrival_transport`        | Mode of arrival (e.g., WALK IN, ambulance)                            |
| `disposition`              | Clinical outcome (e.g., ADMITTED, DISCHARGED)                         |
| `diagnosis`                | Primary diagnosis for the visit                                       |
| `present_illness_positive` | Reported symptoms or findings                                         |
| `present_illness_negative` | Negated symptoms (if recorded)                                        |
| `cefr_A1` to `cefr_C2`     | Lists of vocabulary at each CEFR level (for language reasoning tasks) |
| `med_A` to `med_C`         | Medical vocabulary categorized by complexity                          |
| `cefr`                     | Overall CEFR proficiency level (A1–C2)                                |
| `split`                    | Dataset split identifier (e.g., "persona")                            |
| `personality`              | Assigned personality trait (e.g., "distrust")                         |
| `recall_level`             | Memory accuracy level  (e.g., "low", "high")                          |
| `dazed_level`              | Mental clarity (e.g., "normal", "high")                               |



### Dialogue history between a human doctor and PatientSim (`persona_test/expert_dialogue.jsonl`)
This file contains a list of annotated dialogue histories between a human doctor and PatientSim, where each entry reflects a distinct patient profile evaluated for realism and engagement.
Each item in the JSONL file is a dictionary with the following fields:
| Field              | Description                                                                                                                                                                      |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `labeler_name`     | Identifier for the human annotator who reviewed the dialogue                                                                                                                     |
| `hadm_id`          | Unique hospital admission ID used to link the dialogue to a patient profile                                                                                                      |
| `dialogue_history` | A chronological list of conversational turns between the doctor and patient. Each turn includes a `role` ("Doctor" or "Patient") and a `content` string with the utterance text. |
| `doc_ddx`          | Differential diagnoses considered by the annotator based on the conversation                                                                                                     |
| `personality`      | Expert-assigned rating (1–5) for how well the patient's dialogue reflected their assigned personality                                                                            |
| `cefr`             | CEFR level (1–6 scale) representing the patient's English proficiency                                                                                                            |
| `recall`           | Expert rating (1–5) of the patient’s memory recall accuracy in dialogue                                                                                                          |
| `confused`         | Annotator notes if the patient exhibited signs of confusion (nullable)                                                                                                           |
| `realism`          | Overall realism score (1–5) for how plausible and natural the patient's behavior appeared                                                                                        |
| `realism_reason`   | Optional textual justification or comments regarding the realism score                                                                                                           |
| `realism_other`    | Additional realism-related notes (nullable)                                                                                                                                      |
| `tool_usefulness`  | Score (1–5) reflecting how useful PatientSim was in enabling realistic simulation                                                                                                |
| `llm_result`       | Automated evaluation results from an LLM, including estimates for CEFR level, Recall level, Personality fit, and Realism both generally and with respect to profile consistency  |



### Plausibility scores for unsupported sentences (`info_test/expert_plausibility_label.jsonl`)
This file includes human-annotated plausibility ratings for specific unsupported or hallucinated utterances generated by LLMs during simulated medical dialogues. Each item is a dictionary with the following fields:
| Field          | Description                                                                                        |
| -------------- | -------------------------------------------------------------------------------------------------- |
| `labeler_name` | Identifier for the human annotator                                                                 |
| `hadm_id`      | Hospital admission ID for the patient profile to which the utterance belongs                       |
| `utterance_id` | Unique ID combining the patient and utterance index (e.g., `plaus_<hadm_id>_utter_<idx>_<subidx>`) |
| `score`        | Human-assigned plausibility score on a 1–4 scale.                                                  |